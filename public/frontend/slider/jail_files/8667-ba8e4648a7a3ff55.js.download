(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8667],{59274:function(e,t,r){"use strict";r.d(t,{M:function(){return c}});var n=r(85893),a=r(26203),o=r(67814),l=r(94184),s=r.n(l),i=r(37424),c=function(e){var t=e.icon,r=void 0===t?a.sqG:t,l=e.children,c=e.className,d=e.onHover,u=e.tooltipTheme,h=void 0===u?"white":u,b=(0,i.D)();return(0,n.jsxs)("div",{className:s()("group relative inline-block px-1",c),onMouseEnter:d,children:[(0,n.jsx)("div",{"aria-describedby":b,children:(0,n.jsx)(o.G,{icon:r})}),(0,n.jsxs)("div",{id:b,"aria-hidden":!0,className:s()("absolute hidden p-3 text-xs shadow-md border-grey-deep transform -translate-x-4/10 xs:-translate-x-7/10 2sm:-translate-x-1/2 left-1/2 transition duration-700 ease-in-out group-hover:block z-10","white"===h&&"w-44 mt-2 border rounded bg-white","dark"===h&&"mt-3 w-48 bg-rebranded-grey text-white font-bold"),children:[(0,n.jsx)("span",{className:s()("absolute inline-block border-t border-l border-grey-deep transform -translate-x-1/2 -top-1.5 left-1/2 rotate-45","white"===h&&"w-4 h-4 bg-white","dark"===h&&"w-3.5 h-3.5 bg-rebranded-grey")}),l]})]})}},29976:function(e,t,r){"use strict";r.d(t,{u_:function(){return g},r6:function(){return x},Lt:function(){return m.y}});var n=r(26042),a=r(69396),o=r(99534),l=r(7297),s=r(85893),i=r(31420),c=r(67814),d=r(94184),u=r.n(d),h=r(26793),b=r(79350),m=r(60888),f=r(12541),p=r.n(f),x=function(e){var t=e.className,r=e.children,n=e.ruled;return(0,s.jsx)("h4",{className:u()("mb-2 font-bold text-lg text-center md:text-left mt-5 md:mt-0 text-grey-black",n&&"border-b pb-4 border-grey-mid",t),children:r})};function v(){var e=(0,l.Z)(["language.close"]);return v=function(){return e},e}var g=function(e){var t=e.children,r=e.className,l=e.transition,d=void 0===l?m.y.Zoom:l,f=e.large,x=void 0!==f&&f,g=(0,o.Z)(e,["children","className","transition","large"]),y=(0,h.$)().t;return(0,s.jsx)(m.B,(0,a.Z)((0,n.Z)({},g),{transition:d,className:"md:p-10",children:(0,s.jsxs)("div",{className:u()(p().modal,x&&p().large,"bg-white p-4 md:px-10 md:py-8 transform md:rounded-md overflow-auto shadow-md w-full h-full md:w-auto md:h-auto box-border",r),children:[(0,s.jsx)(b.T,{variant:"dark",className:"mx-auto md:hidden"}),(0,s.jsx)("button",{className:"absolute text-2xl text-grey-mid right-5 top-3 md:right-10 md:top-8 hover:text-navy transition-colors",title:y(v()),onClick:g.onHide,children:(0,s.jsx)(c.G,{className:"fill-current",icon:i.NB})}),t]})}))}},68667:function(e,t,r){"use strict";r.d(t,{G:function(){return Me}});var n=r(85893),a=r(94184),o=r.n(a),l=r(23279),s=r.n(l),i=r(11163),c=r(67294),d=r(26793),u=r(602),h=r(98982),b=r(84747),m=r(5006),f=r(82151),p=r(14924),x=r(26042),v=r(69396),g=r(10253),y=r(80129),w=r(12102),N=r(41049),j=r(99086),S=r(90551),Z=r(75174),k=r(37400),C=r(65934),F=r(72313),I=r(3861),P=r(84513),L=r(83040),T=r(33427),E=r(10895),B=r(47568),A=r(99534),D=r(7297),R=r(20414),q=r(42722),_=r(9669),V=r.n(_),U=r(25934),J=r(7047),M=function(){var e=(0,B.Z)((function(e){var t,r,n,a,o;return(0,R.__generator)(this,(function(l){switch(l.label){case 0:return l.trys.push([0,3,,4]),t=e.name.split(".").pop(),r="".concat((0,U.Z)(),".").concat(t),[4,V().post((0,J.b)().reverseSearchImageUploadUrl,{fileName:r})];case 1:return n=l.sent(),a=n.data.url,[4,V().put(a,e)];case 2:return l.sent(),[2,r];case 3:throw o=l.sent(),new Error(o.message);case 4:return[2]}}))}));return function(t){return e.apply(this,arguments)}}(),z=r(37713),G=r(29976),O=r(43620),$=r(86651),K=r(92565),W=r(67814),Q=r(55162),H=r(51974),X=r(91853),Y=["jpg","jpeg","png"];function ee(){var e=(0,D.Z)(["reverse-search.image-upload-text"]);return ee=function(){return e},e}function te(){var e=(0,D.Z)(["reverse-search.image-upload-or"]);return te=function(){return e},e}function re(){var e=(0,D.Z)(["reverse-search.image-upload-cta"]);return re=function(){return e},e}function ne(){var e=(0,D.Z)(["reverse-search.image-upload-specs"]);return ne=function(){return e},e}var ae=function(e){var t=e.onFileChange,r=e.isLoading,a=void 0!==r&&r,l=(0,d.$)().t,s=(0,c.useState)(null),i=s[0],u=s[1],h=function(e){u(null);var r=(0,g.Z)(e,1)[0];if(r&&!a){var n=function(e,t){var r=e.name.split(".").pop()||"";return e.name.includes(".")&&Y.includes(r.toLowerCase())?e.size>5242880?new Error(t("reverse-search.image-upload-error-file-size")):null:new Error(t("reverse-search.image-upload-error-file-type"))}(r,l);n?u(n):t&&t(r)}},b=(0,Q.u)({onDrop:function(e){return h(e)},multiple:!1}),f=b.getRootProps,p=b.getInputProps,y=b.isDragActive,w=f(),N=w.onClick,j=(0,A.Z)(w,["onClick"]),S=p(),Z=(0,m.w)();return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",(0,v.Z)((0,x.Z)({},j),{className:o()("relative w-full text-center border-4 border-dashed mb-7 bg-grey-light text-grey-black p-10",y&&!a?"border-grey-deep":"border-grey-mid"),children:[(0,n.jsx)(W.G,{icon:K.FV7,size:"5x",className:o()("mb-3 fill-current",Z?"text-black":"text-navy")}),(0,n.jsx)("h4",{className:"hidden my-5 text-lg md:block",children:l(ee())}),(0,n.jsx)("h5",{className:"hidden text-lg md:block",children:l(te())}),(0,n.jsx)("div",{className:"mt-5 overflow-hidden",children:(0,n.jsx)(X.o,{primary:!0,size:H.q.Large,onClick:N,loading:a,className:"mx-auto text-lg font-bold xs:w-auto xs:px-14",children:l(re())})})]})),(0,n.jsx)("input",(0,v.Z)((0,x.Z)({},S),{accept:Y.map((function(e){return".".concat(e)})).join(",")})),i?(0,n.jsx)("p",{className:o()("text-sm text-center text-red",Z&&"font-bold"),children:i.message}):(0,n.jsx)("p",{className:o()("text-sm text-center text-grey-deep",Z&&"font-bold"),children:l(ne())})]})},oe=r(2825),le=r(85186);function se(){var e=(0,D.Z)(["reverse-search.url-searchinput-text"]);return se=function(){return e},e}function ie(){var e=(0,D.Z)(["reverse-search.url-searchspecs"]);return ie=function(){return e},e}var ce=/^(https?:\/\/)[^/]{1,1}.*(jpe?g|png)((#|\?)|$)/i,de=function(e){var t=e.onSubmit,r=(0,d.$)().t,a=(0,le.U)("",(function(e){return e&&ce.test(e)?null:r("reverse-search.url-invalid-error")})),l=(0,m.w)();return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("form",{className:o()("flex w-full mb-3",l&&"rounded-full border border-black 2xs:p-0 md:p-0"),onSubmit:function(e){e.preventDefault(),a.valid&&t(a.value)},children:[(0,n.jsx)("input",(0,x.Z)({type:"text",className:o()("flex-1 min-w-0 text-base appearance-none h-13",l?"pl-4 font-normal bg-transparent focus:outline-none":"pl-5 border border-r-0 rounded-none rounded-l border-grey-deep focus:border-cyan focus:outline-none"),placeholder:r(se())},a.props)),(0,n.jsx)("button",{type:"submit",title:r("reverse-search.url-searchcta"),className:o()(l?"px-4 text-xl rounded-tr-full rounded-br-full border-black hover:text-green text-black":"px-3 text-xl text-white rounded-r h-13 focus:outline-none bg-cyan hover:bg-blue-deep focus:bg-blue-deep focus:border-cyan"),children:(0,n.jsx)(W.G,{icon:oe.wn1,className:"fa-fw"})})]}),a.showError&&a.error?(0,n.jsx)("p",{className:o()("text-sm mb-7 text-red",l&&"font-bold"),children:a.error}):(0,n.jsx)("p",{className:o()("text-sm mb-7 text-grey-deep",l&&"font-bold"),children:r(ie())})]})};function ue(){var e=(0,D.Z)(["reverse-search.title"]);return ue=function(){return e},e}function he(){var e=(0,D.Z)(["reverse-search.tabs-label"]);return he=function(){return e},e}function be(){var e=(0,D.Z)(["reverse-search.tab-image-upload"]);return be=function(){return e},e}function me(){var e=(0,D.Z)(["reverse-search.tab-url-search"]);return me=function(){return e},e}var fe,pe,xe,ve=function(e){var t=e.defaultTab,r=(0,A.Z)(e,["defaultTab"]),a=(0,d.$)().t,l=(0,b.b)(),s=(0,g.Z)((0,q.$)(),2),i=s[0],c=s[1],u=(0,S.q)(S.A.SearchPage,l),h=(0,m.w)(),f=function(e){(0,z.L9)({event:z.ju.Click,action:z.aU.ReverseImageSearch,category:z.WD.SearchBar,label:e.startsWith("https://")?a("reverse-search.tab-url-search"):a("reverse-search.tab-image-upload")}),location.href="".concat(u,"?imageurl=").concat(e)};return(0,n.jsxs)(G.u_,(0,v.Z)((0,x.Z)({transition:G.Lt.SlideDown,large:!0,className:o()(h&&"font-noto")},r),{"data-testid":"reverse-search-modal",children:[(0,n.jsx)(G.r6,{children:a(ue())}),(0,n.jsxs)($.m,{className:"block","aria-label":a(he()),defaultSelected:t,onChangeTab:function(e){(0,z.L9)({event:z.ju.Click,action:z.aU.ReverseImageTabClick,category:z.WD.SearchBar,label:a(0===e?"reverse-search.tab-image-upload":"reverse-search.tab-url-search")})},children:[(0,n.jsx)(O.x,{title:a(be()),children:(0,n.jsx)(ae,{isLoading:i,onFileChange:function(e){return function(e){return c((0,B.Z)((function(){var t;return(0,R.__generator)(this,(function(r){switch(r.label){case 0:return[4,M(e)];case 1:return t=r.sent(),f(t),[2]}}))})))}(e).catch(E.S3)}})}),(0,n.jsx)(O.x,{title:a(me()),children:(0,n.jsx)(de,{onSubmit:f})})]})]}))},ge=r(26839),ye=r(13910),we=r(78031),Ne=r(53491),je=r(67363),Se=r(97757),Ze=r(59274),ke=r(66791),Ce=function(e){var t=e.query,r=e.suggestion,a=e.results,l=e.onSuggestionChange,s=e.onSearch,i=(0,m.w)(),c=r?a.indexOf(r):-1,d=function(e){return l(e<0?null:a[e])};return(0,ke.Z)("keydown",(function(e){"ArrowUp"===e.key?(e.preventDefault(),d(c-1)):"ArrowDown"===e.key&&(e.preventDefault(),d(c>=a.length-1?0:c+1))})),(0,n.jsx)("ul",{className:"absolute z-30 w-full mt-2 bg-white border border-grey-border top-full",role:"list",children:a.map((function(e){return(0,n.jsxs)("li",{className:o()("px-4 py-2 text-lg text-left cursor-pointer text-grey-deep hover:bg-grey-light transition-colors",e===r&&"text-grey-black bg-grey-mid",i&&"font-noto font-bold"),"aria-selected":e===r,role:"option",onMouseDown:function(){!function(e){l(e),s()}(e),(0,z.L9)({event:z.ju.Click,action:z.aU.SuggestionClick,category:z.WD.SearchBar,label:e})},children:[t,(0,n.jsx)("span",{className:o()("text-navy-tint",i?"font-normal":"font-bold"),children:e.slice(t.length)})]},e)}))})},Fe=function(e){var t=e.icon,r=e.label,a=e.selected,l=void 0!==a&&a,s=e.children,i=e.indented,c=e.onClick,d=(0,A.Z)(e,["icon","label","selected","children","indented","onClick"]),u=(0,m.w)(),h=u?"bg-rebranded-grey text-guppie":"text-cyan";return(0,n.jsxs)("li",{children:[(0,n.jsxs)("div",(0,v.Z)((0,x.Z)({},d),{onClick:c,className:o()("flex items-center px-4 py-2.5 text-sm",l?h:"text-grey-black hover:bg-gray-100",i?"pl-6":""),children:[(0,n.jsx)(W.G,{icon:t,className:o()("fa-fw",u?"text-xl":"")}),(0,n.jsx)("span",{className:o()("pl-2",u&&"font-noto"),role:"option","aria-selected":l,children:r})]})),s]})},Ie=r(38040),Pe=r(1500),Le=r(8979),Te=r(57770),Ee=r(64808),Be=r(64219),Ae=r(99654),De=r(992),Re=(fe={default:S.A.KeywordSearch},(0,p.Z)(fe,T.JP.Footage,S.A.SearchFootageNew),(0,p.Z)(fe,T.JP.LiveNews,S.A.SearchNews),fe);!function(e){e.AllImages="search-bar.filter-all-images",e.Photographs="search-bar.filter-photographs",e.Vectors="search-bar.filter-vectors",e.Illustrations="search-bar.filter-illustrations",e.Social="search-bar.filter-social",e.ThreeSixtyImages="search-bar.filter-360-images",e.Video="search-bar.filter-footage",e.LiveNews="search-bar.filter-live-news"}(pe||(pe={}));var qe=(xe={},(0,p.Z)(xe,pe.AllImages,"All images"),(0,p.Z)(xe,pe.Photographs,"Photographs"),(0,p.Z)(xe,pe.Vectors,"Vectors"),(0,p.Z)(xe,pe.Illustrations,"Illustrations"),(0,p.Z)(xe,pe.Social,"Social"),(0,p.Z)(xe,pe.ThreeSixtyImages,"360 Images"),(0,p.Z)(xe,pe.Video,"Footage"),(0,p.Z)(xe,pe.LiveNews,"Live News"),xe),_e=[{icon:Te.Vm,label:pe.AllImages,placeholder:"search-bar.placeholder-all-images",shortPlaceholder:"search-bar.short-placeholder-all-images",type:T.lJ.AllImages},{icon:Ie.FV,label:pe.Photographs,placeholder:"search-bar.placeholder-photographs",indented:!0,type:T.lJ.Photographs},{icon:De._m,label:pe.Vectors,placeholder:"search-bar.placeholder-vectors",indented:!0,type:T.lJ.Vectors},{icon:Ae.sS,label:pe.Illustrations,placeholder:"search-bar.placeholder-illustrations",indented:!0,type:T.lJ.Illustrations},{icon:Ee.bJ,label:pe.Social,placeholder:"search-bar.placeholder-social",indented:!0,type:T.lJ.Social},{icon:Pe.pX,label:pe.ThreeSixtyImages,placeholder:"search-bar.placeholder-360-images",indented:!0,type:T.lJ.Image360},{icon:Le.Cj,label:pe.Video,placeholder:"search-bar.placeholder-footage",locales:["en","de"],type:T.JP.Footage},{icon:Be.Xg,label:pe.LiveNews,placeholder:"search-bar.placeholder-live-news",locales:["en","de"],type:T.JP.LiveNews}],Ve=function(e){var t=e.onFilterChange,r=e.currentFilter,a=e.setReverseSearchOpen,l=e.selectedFilter,s=(0,d.$)().t,i=(0,b.b)(),u=(0,m.w)(),h=(0,je.x)(),f=h.isOpen,p=h.dropdownButtonProps,g=h.dropdownMenuProps,y=h.dropdownItemProps,w=h.close,N=(0,I.m)().distributorTerritory;return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("button",(0,v.Z)((0,x.Z)({},p),{className:o()(u&&"rounded-full","flex items-center h-full px-4 py-2 text-sm cursor-pointer select-none focus:outline-none"),title:s("search-bar.select-search-type"),children:[(0,n.jsx)(W.G,{size:"lg",icon:r.icon}),(0,n.jsx)("span",{className:o()("hidden pl-2 lg:inline",u&&"font-noto text-black"),children:s(r.label)}),(0,n.jsx)(W.G,{className:"flex-1 pl-2 text-lg",icon:ye.pt})]})),(0,n.jsxs)("ul",(0,v.Z)((0,x.Z)({},g),{className:o()(!f&&"hidden","absolute left-0 z-50 bg-white shadow-md top-full",u?"w-auto mt-1 border-b border-black md:border-0 md:mt-2 md:rounded":"mt-2 rounded"),"aria-hidden":!f,children:[_e.filter((function(e){var t=e.locales,r=e.type,n=!t||t.includes(i),a=Boolean(T.JP.Footage!==r&&N);return N?a:n})).map((function(e,n){var a=e.icon,o=e.label,i=e.indented,d=e.type;return(0,c.createElement)(Fe,(0,v.Z)((0,x.Z)({},y),{icon:a,label:s(o),key:n,selected:d===r.type,onClick:function(){(o!==pe.AllImages&&l!==d||l!==T.lJ.AllImages&&o===pe.AllImages)&&(0,z.L9)({event:z.ju.Click,action:z.aU.Dropdown,category:z.WD.SearchBar,label:qe[o]}),t(d),w()},indented:i}))})),(0,n.jsx)("hr",{className:"mx-4"}),(0,n.jsx)(Fe,(0,v.Z)((0,x.Z)({},y),{icon:Ne.FV,label:s("search-bar.search-by-image-short"),onClick:function(){a(!0),(0,j.ob)(z.aU.ReverseImageIconClick,""),w()}}))]}))]})},Ue=function(e){var t,r=e.query,a=e.suggestion,l=e.autocompleteResults,s=e.onQueryChange,i=e.onSuggestionChange,u=e.onFilterChange,h=e.selectedFilter,b=e.setReverseSearchOpen,f=e.onSearch,p=e.enableFilterSelect,g=void 0===p||p,y=e.enableReverseImageSearch,w=void 0===y||y,N=e.isVideoSearch,S=void 0!==N&&N,Z=e.searchFilterIcon,k=e.errorMessage,C=void 0===k?"":k,F=e.classNames,I=(0,d.$)().t,P=(0,c.useRef)(null),L=(0,c.useState)(!1),T=L[0],E=L[1],B=!1,A="undefined"!==typeof(t=h)&&_e.find((function(e){return e.type===t}))||_e[0],D=(0,m.w)(),R=T?"border-cyan":"border-black-deep",q="".concat(S?"md:p-0":"md:px-5 md:py-2 border-b  md:bg-grey-light"),_="".concat(S?"rounded-full border":"md:rounded-full border-b md:border"," border-black h-12 2xs:p-0 md:p-0 bg-white md:my-2"),V=(0,Se.p)().isMobileOrTablet;return(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)("div",{className:o()("search-class flex flex-row items-center border-black-border",D?_:q,null===F||void 0===F?void 0:F.wrapper),children:[(0,n.jsxs)("div",{className:o()(!D&&R,"relative flex flex-row items-center flex-1 cursor-pointer text-grey-black md:mx-0 h-13 noto-sans",D?"md:rounded-tl-full md:rounded-bl-full bg-transparent border-0":"md:rounded-l bg-white md:border-r-0 md:border-b md:border"),children:[g&&(0,n.jsx)(Ve,{onFilterChange:u,currentFilter:A,setReverseSearchOpen:b,selectedFilter:h}),(0,n.jsxs)("div",{className:o()("relative flex flex-auto h-10",D?"border-black h-8":"border-grey-border",{"border-l":g,"ml-3":D&&S},null===F||void 0===F?void 0:F.wrapperInput),children:[(0,n.jsxs)("label",{className:o()("absolute w-full h-full py-2 pl-4 align-middle text-mid-grey cursor-text",D?"md:pr-4 font-noto 3xs:py-1.5":"md:px-4",{"sr-only":Boolean(r)}),htmlFor:"qt",children:[(0,n.jsx)("span",{className:o()("2xl:hidden",{"text-2xs 1xs:text-base 2sm:font-noto":S&&D,"text-2xs 2sm:text-base":S&&!D,"font-noto":!S&&D,"text-base":S&&!D,"text-red":C}),children:C||I(A.shortPlaceholder||A.placeholder)}),(0,n.jsx)("span",{className:o()("hidden 2xl:inline",{"text-red":C}),children:C||I(A.placeholder)})]}),(0,n.jsx)("input",{ref:P,role:"searchbox",className:o()("flex-auto w-0 h-full pl-4 pr-10 md:px-4 md:pr-10 focus:outline-none",D&&"font-noto"),onFocus:function(){return E(!0)},onBlur:function(){return E(!1)},value:a||r,onChange:function(e){return s(e.target.value,!0)},onKeyDown:function(e){"Escape"===e.key?s(r,!1,!0):"Enter"===e.key&&(B=!0,(0,j.ob)(z.aU.PressEnter,qe[A.label]))},maxLength:250,type:"text",name:"qt",id:"qt",autoComplete:"off","aria-autocomplete":"list"}),T&&r&&l.length>0&&(0,n.jsx)(Ce,{query:r,suggestion:a,onSuggestionChange:i,results:l,onSearch:f}),r&&(0,n.jsx)("button",{className:o()(!T&&!V&&"opacity-0","absolute right-0 flex-row items-center h-full px-2 text-xl bg-transparent hover:text-cyan hover:opacity-100 md:flex focus:text-cyan focus:outline-none md:px-4",w&&"md:right-12"),type:"button",title:I("search-bar.reset"),onClick:function(){s(""),P.current&&P.current.focus()},children:(0,n.jsx)(W.G,{icon:ge.NB,className:"text-grey-deep"})}),w&&(0,n.jsx)("button",(0,v.Z)((0,x.Z)({className:o()("relative flex-row items-center hidden h-full text-xl bg-white md:flex",D?"hover:text-guppie focus:text-green bg-transparent px-2":"hover:text-cyan focus:text-cyan focus:outline-none px-4")},!D&&{title:I("search-bar.search-by-image-long")}),{type:"button",role:"button","data-testid":"searchByImageLong","aria-label":D?I("search-bar.search-by-image-long"):void 0,onClick:function(){b(!0),(0,j.ob)(z.aU.ReverseImageIconClick,"")},children:(0,n.jsx)(Ze.M,{icon:Ne.FV,tooltipTheme:"dark",children:I("search-bar.search-by-image-long")})})),Z]})]}),(0,n.jsx)("button",{type:"submit",title:I("search-bar.search"),onClick:function(){B||(0,j.ob)(z.aU.MagnifierIconClick,qe[A.label])},className:o()("text-xl bg-white focus:outline-none",D?"px-4 h-full md:bg-white rounded-tr-full rounded-br-full border-black hover:text-guppie text-black":"px-3 md:bg-cyan md:hover:bg-blue-deep md:focus:bg-blue-deep md:border-cyan border-r-0 rounded-r h-13  md:text-white md:border md:rounded-r text-cyan"),children:(0,n.jsx)(W.G,{icon:we.wn,className:"fa-fw"})})]})})},Je=r(95994),Me=function(e){var t=e.autocompleteResults,r=void 0===t?[]:t,a=e.defaultFilterType,l=void 0===a?null:a,B=e.enableFilterSelect,A=void 0===B||B,D=e.enableAutocomplete,R=void 0===D||D,q=e.enableReverseImageSearch,_=void 0===q||q,V=e.isVideoSearch,U=void 0!==V&&V,J=e.isFixedWidth,M=void 0!==J&&J,z=e.showSearchCountry,G=void 0!==z&&z,O=e.withBackground,$=void 0===O||O,K=e.defaultEmptyQuery,W=void 0!==K&&K,Q=e.searchFilterIcon,H=e.searchClassNames,X=(0,d.$)().t,Y=(0,i.useRouter)(),ee=(0,f.Y)(),te=ee.imgt,re=ee.qt,ne=void 0===re?"":re,ae=(0,b.b)(),oe=(0,u.h)(!0),le=(0,c.useRef)(null),se=(0,P.a)(),ie=(0,c.useState)(!1),ce=ie[0],de=ie[1],ue=(0,c.useState)(null!==l&&void 0!==l?l:te),he=ue[0],be=ue[1],me=(0,c.useState)(null),fe=me[0],pe=me[1],xe=(0,c.useState)((0,k.IT)(Y.query)?"":ne),ge=xe[0],ye=xe[1],we=(0,c.useState)(R?r:[]),Ne=we[0],je=we[1],Se=(0,c.useState)(!0),Ze=Se[0],ke=Se[1],Ce=(0,m.w)(),Fe=(0,h.ev)(),Ie=(0,h.Hz)(),Pe=Fe||Ie||Boolean(null===se||void 0===se?void 0:se.territorySelectionEnabled),Le="/"===Y.pathname&&Pe,Te=he&&Re[he]||Re.default,Ee=Boolean(he&&he===T.JP.Footage),Be=(0,c.useCallback)(s()((function(e){(0,L.uM)(oe)(e,ae).then((function(e){return je(e)})).catch(E.S3)}),300),[]);(0,c.useEffect)((function(){W&&(ye(""),be(0))}),[]);var Ae=function(e,t,r,n){var a,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,l=(0,b.b)(),s=(0,S.q)(e===S.A.SearchNews?S.A.SearchNews:e,l),i=(0,g.Z)((0,w.Z)([k.mh]),1)[0],c=(0,y.parse)(i[k.mh]),d=n.endsWith("/")?n:"".concat(n,"/"),u=Boolean(c.video),h=(0,k.IT)(c),m=s!==d,f=h?"":(0,C.wV)((0,Z.ks)((0,Z.Nq)((0,x.Z)((0,v.Z)((0,x.Z)({},u&&r||!u&&!r?c:{}),{qt:void 0,page:void 0,ispartial:void 0,video:void 0,dist:void 0,t:void 0,imgt:r||0===o?void 0:"".concat(o)}),m&&(a={},(0,p.Z)(a,N._K.PseudoID,void 0),(0,p.Z)(a,N._K.PseudoST,void 0),(0,p.Z)(a,k.xz,void 0),(0,p.Z)(a,k.PK,void 0),a))))),P=(0,I.m)(s),L=P.distributorTerritory,T=P.regionalDistributorUrl,E=(0,F.u)((0,S.q)(e===S.A.SearchNews?S.A.SearchNews:S.A.SearchPage,l)),B=E.collectionNamePath,A=E.collectionName,D=L||A;if(D&&!r){var R="/news/newsresults.aspx";if(s.includes(R))return"".concat(s.slice(0,s.length-R.length),"/").concat(D).concat(R,"?qt=").concat(t);var q=L?T:B;return(0,j.uP)(e,q,t,f,o)}if(A&&r){var _=(0,F.u)((0,S.q)(S.A.SearchFootage,l)).collectionNamePath;return"".concat(_,"?qt=").concat(t)}return(0,j.uP)(e,(0,S.q)(e,l),t,f,o)}(Te,fe||ge,Ee,Y.pathname,he);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("form",{action:Ae,ref:le,onSubmit:function(e){e.preventDefault(),(0,C.QR)(Ae)},className:o()({"md:bg-grey-light":Ce&&$}),id:"search",children:["number"===typeof he&&(0,n.jsx)("input",{type:"hidden",name:"imgt",value:he,"data-testid":"imgt"}),(0,n.jsx)("div",{className:o()(Ce&&M&&"max-w-50"),children:(0,n.jsx)(Ue,{query:ge,suggestion:fe,selectedFilter:he,autocompleteResults:Ne,onQueryChange:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];ye(e),pe(null),e&&!Ze&&ke(!0),R&&e.length>1&&e!==fe&&t&&"en"===ae?Be(e):r&&je([])},onFilterChange:function(e){be(e),""!==ge&&window.setTimeout((function(){var t,r;e!==T.JP.LiveNews?null===(t=le.current)||void 0===t||t.dispatchEvent(new Event("submit",{bubbles:!0,cancelable:!0})):null===(r=le.current)||void 0===r||r.submit()}))},setReverseSearchOpen:de,onSuggestionChange:pe,enableFilterSelect:A,onSearch:function(){window.setTimeout((function(){var e,t;le.current&&(he!==T.JP.LiveNews?null===(e=le.current)||void 0===e||e.dispatchEvent(new Event("submit",{bubbles:!0,cancelable:!0})):null===(t=le.current)||void 0===t||t.submit())}),0)},enableReverseImageSearch:_,isVideoSearch:U,errorMessage:Ze?"":X("search-bar.search-error"),searchFilterIcon:Q,classNames:H})}),G&&Pe&&(0,n.jsx)(Je.uD,{className:"2sm:w-2/4"}),Le&&(0,n.jsx)("input",{type:"hidden",name:"mode",value:"1"})]}),_&&(0,n.jsx)(ve,{show:ce,onHide:function(){return de(!1)}})]})}},95994:function(e,t,r){"use strict";r.d(t,{uD:function(){return C}});var n=r(14924),a=r(26042),o=r(69396),l=r(10253),s=r(7297),i=r(85893),c=r(13910),d=r(67814),u=r(94184),h=r.n(u),b=r(11163),m=r(67294),f=r(12102),p=r(26793),x=r(46530),v=r(67363),g=r(16790),y=r(84513),w=r(37400);function N(){var e=(0,s.Z)(["search-bar.search-territory.default"]);return N=function(){return e},e}var j,S="default",Z=(0,a.Z)((j={},(0,n.Z)(j,S,"Any territory"),(0,n.Z)(j,"uk","United Kingdom"),(0,n.Z)(j,"us","United States"),(0,n.Z)(j,"ca","Canada"),(0,n.Z)(j,"fr","France"),(0,n.Z)(j,"de","Germany"),(0,n.Z)(j,"it","Italy"),j),x),k=function(e){return e&&Z[e]},C=function(e){var t,r,s=e.className,u=e.isFilter,x=void 0!==u&&u,j=e.isDisabled,C=(0,p.$)().t,F=(0,y.a)(),I=(0,b.useRouter)(),P=(0,m.useContext)(g.T).geoHeader,L=(null===F||void 0===F?void 0:F.territorySelectionEnabled)&&F.territoryId.toLowerCase(),T=(0,l.Z)((0,f.Z)(),2),E=T[0],B=T[1],A=C(N()),D=L||Boolean(k(null===P||void 0===P?void 0:P.toLowerCase()))&&(null===P||void 0===P?void 0:P.toLowerCase())||S,R=(0,m.useState)(Boolean(k(null===(t=E[w.d0])||void 0===t?void 0:t.toLowerCase()))&&(null===(r=E[w.d0])||void 0===r?void 0:r.toLowerCase())||D),q=R[0],_=R[1],V=(0,a.Z)({},q&&(0,n.Z)({},q,Z[q]),Z),U=(0,v.x)(),J=U.isOpen,M=U.dropdownButtonProps;return(0,m.useEffect)((function(){var e;J&&x&&(null===(e=document.querySelector('[data-testid="FilterScrollContent"]'))||void 0===e||e.scrollTo(0,1e3))}),[J]),(0,i.jsxs)("div",{"data-testid":"searchCountry",className:h()("relative w-full",s),children:[(0,i.jsxs)("button",(0,o.Z)((0,a.Z)({},M),{"data-testid":"button",className:h()("flex items-center justify-between w-full bg-white border border-black search-class cursor-pointer select-none focus:outline-none md:my-0.5",x?"h-10 my-2 py-2 rounded":"h-10 py-1 border-t-0 2sm:my-2 2sm:border-t 2sm:h-12 2sm:rounded-full"),disabled:j,children:[(0,i.jsx)("span",{"data-testid":"selectedCountry",className:"flex items-center w-full h-full px-4 py-1 text-left",children:k(q)||A}),(0,i.jsx)("div",{className:h()("h-full border-l border-black",x?"px-3":"px-5 py-1 2sm:py-2"),children:(0,i.jsx)(d.G,{className:"text-base font-bold",size:"1x",icon:c.pt})})]})),J&&(0,i.jsx)("div",{className:h()("absolute z-10 py-2 pr-2 bg-white rounded mt-0.5 top-full h-thirdScreen min-h-52r md:right-4.5",x?"left-0 shadow-md":"left-4 right-4"),children:(0,i.jsx)("ul",{className:"h-full pr-4 overflow-y-auto scrollbar-thin scrollbar-thumb-rounded-full scrollbar-thumb-gray-300 scrollbar-track-white","data-testid":"list",children:Object.entries(V).map((function(e){var t=(0,l.Z)(e,2),r=t[0],n=t[1];return(0,i.jsx)("li",{className:h()("px-5 py-3 text-sm text-left font-noto transition-colors cursor-pointer",r===q?"bg-rebranded-grey text-guppie":"hover:bg-gray-100"),"data-testid":"option",onClick:function(){return function(e){var t=e===q?void 0:e;_(t),window&&(B(w.d0,t?t.toUpperCase():D,{encode:String,path:"/"}),I.reload())}(r)},children:n},r)}))})})]})}},43620:function(e,t,r){"use strict";r.d(t,{x:function(){return l}});var n=r(85893),a=r(94184),o=r.n(a),l=function(e){var t=e.children,r=e.id,a=e.label,l=e.selectedTab,s=e.index,i=e.className;return(0,n.jsx)("div",{tabIndex:0,role:"tabpanel",id:r,"aria-labelledby":a,hidden:l!==s,className:o()("mt-6",l!==s&&"hidden",i),children:t})}},86651:function(e,t,r){"use strict";r.d(t,{m:function(){return b}});var n=r(26042),a=r(69396),o=r(10253),l=r(85893),s=r(67294),i=r(94184),c=r.n(i),d=r(5006),u=function(e){var t=e.tab,r=e.selected,n=e.children,a=e.onClick,o=e.className,s=e.disabled,i=e.isSubFilter,d=r?"text-blue":"text-black hover:opacity-50",u=r?"text-black border-blue":s?"":"text-black hover:border-grey-mid";return(0,l.jsx)("button",{className:c()("break-normal md:mr-2 -mb-px px-1 py-3 border-b-2 border-transparent flex-1 md:flex-auto text-sm focus-visible:outline-auto",i?d:u,s&&"text-grey-light-2",o),role:"tab","aria-selected":r,"aria-controls":t.controls,"data-testId":/all|tutto|alle|todas|tous/i.exec(t.id)?"all-tab":/creative|kreatives|creativo|cr\xe9atif/i.exec(t.id)?"creative-tab":/editorial|editoriale|redaktionell|\xe9ditorial/i.exec(t.id)?"editorial-tab":/ultimate|definitive|ultimativ|definitivo|ultime/i.exec(t.id)?"ultimate-tab":/vital|vita|essentiel/i.exec(t.id)?"vital-tab":/uncut|integrali|ungek\xfcrzt|sin-cortes|int\xe9gral/i.exec(t.id)?"uncut-tab":/foundation|fondazione|grundlage|fundaci\xf3n|fondation/i.exec(t.id)?"foundation-tab":t.id,id:t.id,disabled:s,onClick:a,children:n})},h=function(e){var t=e.children,r=e.selectedTab,n=e["aria-label"],a=e.tabs,o=e.setTab,s=e.className,i=e.tabButtonClassName,h=e.isSubFilter,b=(0,d.w)();return(0,l.jsxs)("div",{className:c()(b?"flex border-gray-300 border-b-2 md:flex-auto":"flex border-b border-grey-light",s),role:"tablist","aria-label":n,children:[a.map((function(e){return(0,l.jsxs)(u,{tab:e,selected:r===e.index,onClick:function(){return o(e.index)},className:i,isSubFilter:h,disabled:e.disabled,children:[e.title,e.subtitle&&(0,l.jsx)("span",{className:"ml-1 font-normal",children:e.subtitle})]},e.id)})),t]})},b=function(e){var t=e.children,r=e.className,i=e.defaultSelected,c=void 0===i?0:i,d=e.controlledSelectedTab,u=e["aria-label"],b=e.onChangeTab,m=e.tabListClassName,f=e.tabButtonClassName,p=e.isSubFilter,x=(0,s.useState)(c),v=x[0],g=x[1],y=(0,o.Z)(function(e,t){return e.reduce((function(e,r,l){var s,i,c,d=(0,o.Z)(e,2),u=d[0],h=d[1],b=(Array.isArray(null===r||void 0===r||null===(s=r.props)||void 0===s?void 0:s.title)?null===r||void 0===r||null===(i=r.props)||void 0===i?void 0:i.title[0]:null===r||void 0===r||null===(c=r.props)||void 0===c?void 0:c.title).replace(/\s+/g,"-").toLowerCase(),m="".concat(b,"-tab");return[u.concat((0,a.Z)((0,n.Z)({},r),{props:(0,a.Z)((0,n.Z)({},r.props),{id:m,labelledby:b,selectedTab:t,index:l})})),h.concat({title:r.props.title,subtitle:r.props.subtitle,disabled:r.props.disabled,id:b,controls:m,index:l})]}),[[],[]])}(t,d||v),2),w=y[0],N=y[1];return(0,l.jsxs)("div",{className:r,children:[(0,l.jsx)(h,{tabs:N,"aria-label":u,setTab:function(e){d?d!==e&&b&&b(e):(g(e),v!==e&&b&&b(e))},selectedTab:d||v,className:m,tabButtonClassName:f,isSubFilter:p}),w]})}},67363:function(e,t,r){"use strict";r.d(t,{x:function(){return a}});var n=r(67294),a=function(){var e=(0,n.useState)(!1),t=e[0],r=e[1],a={type:"button","aria-haspopup":"listbox","aria-expanded":t,onClick:function(e){e.stopPropagation(),r(!t)}},o={ref:(0,n.useRef)(null),role:"listbox",tabIndex:-1};(0,n.useEffect)((function(){t&&o.ref.current&&o.ref.current.focus()}),[t]);var l=function(){return r(!1)},s=function(){return l()};return(0,n.useEffect)((function(){return window.addEventListener("click",s),function(){window.removeEventListener("click",s)}}),[]),{isOpen:t,setIsOpen:r,close:l,dropdownButtonProps:a,dropdownItemProps:{tabIndex:0},dropdownMenuProps:o}}},85186:function(e,t,r){"use strict";r.d(t,{U:function(){return a}});var n=r(67294),a=function(e,t){var r=(0,n.useState)(e),a=r[0],o=r[1],l=(0,n.useState)(!1),s=l[0],i=l[1],c=(0,n.useState)(!1),d=c[0],u=c[1],h=(0,n.useState)(!0),b=h[0],m=h[1],f=(0,n.useState)(!1),p=f[0],x=f[1],v=(0,n.useState)(null),g=v[0],y=v[1],w=!g,N=Boolean(g)&&(p||d),j=(0,n.useRef)(null),S=function(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a;y((null===(e=j.current)||void 0===e?void 0:e.validationMessage)||t&&t(r)||null)},Z=function(){i(!1),S(),d||u(!0)};return{props:{onKeyDown:function(e){"Enter"===e.key&&(w||e.preventDefault(),m(!1),Z())},onInvalid:function(e){e.preventDefault(),p||x(!0)},onFocus:function(){return i(!0)},onBlur:Z,onChange:function(e){var t=e.target.value;m(!1),o(t),S(t)},value:a,ref:j},error:g,valid:w,value:a,hasFocus:s,hasBlurred:d,hasValidated:p,reset:function(){o(e),u(!1),x(!1),m(!0),S()},pristine:b,showError:N,ref:j}}},82151:function(e,t,r){"use strict";r.d(t,{Y:function(){return l}});var n=r(10253),a=r(12102),o=r(37400),l=function(){var e=(0,n.Z)((0,a.Z)([o.mh]),1)[0];return(0,o.Ey)(e[o.mh]||"")}},12541:function(e){e.exports={modal:"Modal_modal__rQoc6",large:"Modal_large__rQ5M1"}}}]);